
<!doctype html><html lang="en" data-theme="light">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Seeder – CSV Demo</title><link rel="stylesheet" href="styles.css"/><script src="js/csv.js"></script></head>
<body><div class="wrap">
<header class="banner"><a class="chip floating-toggle" href="index.html">← Back to Home</a></header>
<section class="card">
  <h2>CSV Seeder</h2>
  <p class="muted">Loads sample CSVs from <code>/data</code> into local demo DB. (No cloud needed).</p>
  <div class="row">
    <button class="btn" id="seedAll">Seed ALL</button>
    <button class="btn ghost" id="wipe" style="background:#ef4444;color:#fff">Wipe Demo Data</button>
  </div>
  <div class="row" style="margin-top:10px">
    <a class="chip" href="data/staff.csv" download>staff.csv</a>
    <a class="chip" href="data/staff_attendance.csv" download>staff_attendance.csv</a>
    <a class="chip" href="data/patients.csv" download>patients.csv</a>
    <a class="chip" href="data/bookings.csv" download>bookings.csv</a>
    <a class="chip" href="data/invoices.csv" download>invoices.csv</a>
    <a class="chip" href="data/invoice_items.csv" download>invoice_items.csv</a>
  </div>
  <div class="card" id="log" style="min-height:120px"></div>
</section>
</div>
<script>
async function seed(){
  const files=['staff','staff_attendance','patients','bookings','invoices','invoice_items'];
  const log=document.getElementById('log'); log.innerHTML='Seeding...';
  for(const f of files){
    await CsvDB.loadFromUrl(f, `data/${f}.csv`);
    log.innerHTML += `<div>Loaded <b>${f}</b></div>`;
  }
  log.innerHTML += '<div><b>Done!</b> Try the app pages.</div>';
}
document.getElementById('seedAll').onclick=seed;
document.getElementById('wipe').onclick=()=>{ CsvDB.clear(); document.getElementById('log').innerHTML='Cleared local demo DB.'; };
</script>
</body></html>
