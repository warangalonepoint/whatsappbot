
<!doctype html><html lang="en" data-theme="light">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Patients – CSV Demo</title><link rel="stylesheet" href="styles.css"/><script src="js/csv.js"></script></head>
<body><div class="wrap">
<header class="banner"><a class="chip floating-toggle" href="index.html">← Home</a></header>
<section class="card"><h2>Patients</h2>
  <div class="row"><input id="q" placeholder="Search name/phone" style="max-width:360px"/></div>
  <table id="tbl"></table>
</section>
</div>
<script>
function render(){
  const q=(document.getElementById('q').value||'').toLowerCase();
  const rows=[['Name','Phone','DOB','Notes']].concat(
    CsvDB.all('patients').filter(p=>!q||String(p.name).toLowerCase().includes(q)||String(p.phone).includes(q))
      .map(p=>[p.name,p.phone,p.dob||'',p.notes||''])
  );
  document.getElementById('tbl').innerHTML=rows.map((r,i)=>'<tr>'+r.map(c=>`<${i?'td':'th'}>${c}</${i?'td':'th'}>`).join('')+'</tr>').join('');
}
document.getElementById('q').oninput=render; render();
</script>
</body></html>
